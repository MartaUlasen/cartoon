(this.webpackJsonpcartoon=this.webpackJsonpcartoon||[]).push([[0],{42:function(e,a,t){e.exports=t(75)},51:function(e,a,t){},52:function(e,a,t){},53:function(e,a,t){},55:function(e,a,t){},74:function(e,a,t){},75:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),c=t(20),i=t.n(c),o=t(17),s=t(16),d=t(5),l=t(19),u=t(15),m={loading:!1,data:void 0,error:void 0,next:"https://rickandmortyapi.com/api/character"},v=Object(u.b)({name:"charactersList",initialState:m,reducers:{requestCharacterList:function(e){e.loading=!0,e.error=void 0},requestCharacterListSuccess:function(e,a){e.loading=!1,e.data=void 0===e.data?a.payload.results:[].concat(Object(l.a)(e.data),Object(l.a)(a.payload.results)),e.next=a.payload.info.next},requestCharacterListError:function(e,a){e.loading=!1,e.error=a.payload}}}),p=v.actions,f=v.reducer,h=t(39),E=t.n(h),b=(t(51),function(e){var a=e.data,t=(a=void 0===a?{}:a).name,r=a.status,c=a.species,i=a.gender,o=a.image,s=a.location,d=E()({card__status:!0,"card__status--alive":"Alive"===r,"card__status--dead":"Dead"===r});return n.a.createElement("div",{className:"card"},n.a.createElement("img",{className:"card__img",src:o,alt:t}),n.a.createElement("div",{className:"card__description"},n.a.createElement("h5",{className:"card__name"},t),n.a.createElement("div",{className:d},r),n.a.createElement("div",{className:"card__additional"},n.a.createElement("div",{className:"card__additional-title"},"Species:"),n.a.createElement("div",{className:"card__additional-value"},c)),n.a.createElement("div",{className:"card__additional"},n.a.createElement("div",{className:"card__additional-title"},"Gender:"),n.a.createElement("div",{className:"card__additional-value"},i)),n.a.createElement("div",{className:"card__additional"},n.a.createElement("div",{className:"card__additional-title"},"Location:"),n.a.createElement("div",{className:"card__additional-value"},null===s||void 0===s?void 0:s.name))))}),g=(t(52),function(e){var a=e.error;return n.a.createElement("div",{className:"error"},a)}),_=t(76),x=(t(53),{requestCharacterList:p.requestCharacterList}),O=Object(o.b)((function(e){var a=e.characterList;return{loading:a.loading,data:a.data,error:a.error,next:a.next}}),x)((function(e){var a=e.loading,t=e.data,c=e.error,i=e.next,o=e.requestCharacterList,d=Object(r.useRef)(null),l=Object(r.useCallback)((function(e){e[0].isIntersecting&&i&&o(i)}),[i,o]);Object(r.useEffect)((function(){var e=d.current,a=new IntersectionObserver(l,{root:null,rootMargin:"0px",threshold:.2});return d&&e&&a.observe(e),function(){return a.unobserve(e)}}),[d,l]);return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",null,null===t||void 0===t?void 0:t.map((function(e){var a,t="/characters/".concat(null===(a=e.url)||void 0===a?void 0:a.split("/").filter((function(e){return e})).pop());return n.a.createElement(s.b,{key:e.id,to:t,className:"card-link"},n.a.createElement(b,{data:e}))})),c&&n.a.createElement(g,{error:c}),c&&i&&n.a.createElement("button",{className:"button-load-more",type:"button",onClick:function(){i&&o(i)}},"Load more characters")),n.a.createElement("div",{ref:d},a&&n.a.createElement(_.a,{className:"icon-loading",size:20})))})),j={loading:!1,data:void 0,error:void 0},N=Object(u.b)({name:"charactersList",initialState:j,reducers:{requestCharacter:function(e){e.loading=!0,e.data=void 0,e.error=void 0},requestCharacterSuccess:function(e,a){e.loading=!1,e.data=a.payload},requestCharacterError:function(e,a){e.loading=!1,e.error=a.payload}}}),C=N.actions,q=N.reducer,k={requestCharacter:C.requestCharacter},L=Object(o.b)((function(e){var a=e.character;return{loading:a.loading,data:a.data,error:a.error}}),k)((function(e){var a=e.id,t=e.loading,c=e.data,i=e.error,o=e.requestCharacter;return Object(r.useEffect)((function(){o("https://rickandmortyapi.com/api/character/".concat(a))}),[o,a]),n.a.createElement(n.a.Fragment,null,i&&n.a.createElement(g,{error:i}),t?n.a.createElement(_.a,{className:"icon-loading",size:20,"data-testid":"loader"}):n.a.createElement(b,{data:c}))})),w=(t(55),function(){return n.a.createElement("div",{className:"app","data-testid":"app"},n.a.createElement("header",{className:"header"},n.a.createElement(s.b,{to:"/",className:"logo"},"The Rick and Morty")),n.a.createElement("main",{className:"main"},n.a.createElement(d.c,null,n.a.createElement(d.a,{exact:!0,path:"/",component:O}),n.a.createElement(d.a,{exact:!0,path:"/characters/:id",render:function(e){var a=e.match.params.id;return n.a.createElement(L,{id:a})}}))))}),y=t(40),S=t(11),I=t.n(S),M=t(12),z=t(23),F=t.n(z),J=I.a.mark(A),R=I.a.mark(B);function A(e){var a,t;return I.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=e.payload,r.prev=1,r.next=4,Object(M.b)(F.a.get,a);case 4:return t=r.sent,r.next=7,Object(M.c)(p.requestCharacterListSuccess(t.data));case 7:r.next=13;break;case 9:return r.prev=9,r.t0=r.catch(1),r.next=13,Object(M.c)(p.requestCharacterListError(r.t0.toString()));case 13:case"end":return r.stop()}}),J,null,[[1,9]])}function B(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(M.e)(p.requestCharacterList.toString(),A);case 2:case"end":return e.stop()}}),R)}var D=I.a.mark(T),G=I.a.mark(H);function T(e){var a,t;return I.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=e.payload,r.prev=1,r.next=4,Object(M.b)(F.a.get,a);case 4:return t=r.sent,r.next=7,Object(M.c)(C.requestCharacterSuccess(t.data));case 7:r.next=13;break;case 9:return r.prev=9,r.t0=r.catch(1),r.next=13,Object(M.c)(C.requestCharacterError(r.t0.toString()));case 13:case"end":return r.stop()}}),D,null,[[1,9]])}function H(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(M.d)(C.requestCharacter.toString(),T);case 2:case"end":return e.stop()}}),G)}var K=I.a.mark(P);function P(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(M.a)([B(),H()]);case 2:case"end":return e.stop()}}),K)}var Q=t(7),U=Object(Q.c)({characterList:f,character:q}),V=Object(y.a)(),W=[].concat(Object(l.a)(Object(u.c)()),[V]),X=Object(u.a)({reducer:U,middleware:W});V.run(P);var Y=X;t(74);i.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(o.a,{store:Y},n.a.createElement(s.a,{basename:"/cartoon"},n.a.createElement(w,null)))),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.5e5de164.chunk.js.map